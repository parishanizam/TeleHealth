\documentclass[12pt, titlepage]{article}

\usepackage{amsmath, mathtools}

\usepackage[round]{natbib}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[section]{placeins}
\usepackage{caption}
\usepackage{fullpage}

\hypersetup{
bookmarks=true,     % show bookmarks bar?
colorlinks=true,       % false: boxed links; true: colored links
linkcolor=red,          % color of internal links (change box color with linkbordercolor)
citecolor=blue,      % color of links to bibliography
filecolor=magenta,  % color of file links
urlcolor=cyan          % color of external links
}

\usepackage{array}

\externaldocument{../../SRS/SRS}

\input{../../Comments}
\input{../../Common}

\begin{document}

\title{Module Interface Specification for \progname{}}

\author{\authname}

\date{\today}

\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
Date 1 & 1.0 & Notes\\
Date 2 & 1.1 & Notes\\
\bottomrule
\end{tabularx}

~\newpage

\section{Symbols, Abbreviations and Acronyms}

See SRS Documentation at \wss{give url}

\wss{Also add any additional symbols, abbreviations or acronyms}

\newpage

\tableofcontents

\newpage

\pagenumbering{arabic}

\section{Introduction}

The following document details the Module Interface Specifications for TeleHealth Insights. It is an at-home bilingual speech 
assessment system with video and audio analysis features. The system is designed 
to provide clear guidance to parents when administering the assessment to their 
children, in an environment where speech-language pathologists (SLPs) are 
unavailable. By streamlining the assessment process, the project aims to provide a 
convenient and comprehensive solution for SLPs to assess and support their patients'
speech and language development remotely.
% \wss{Fill in your project name and description}

Complementary documents include the System Requirement Specifications
and Module Guide.  The full documentation and implementation can be
found at \url{https://github.com/parishanizam/TeleHealth} 
% \wss{provide the url for your repo}

\section{Notation}

\wss{You should describe your notation.  You can use what is below as
  a starting point.}

The structure of the MIS for modules comes from \citet{HoffmanAndStrooper1995},
with the addition that template modules have been adapted from
\cite{GhezziEtAl2003}.  The mathematical notation comes from Chapter 3 of
\citet{HoffmanAndStrooper1995}.  For instance, the symbol := is used for a
multiple assignment statement and conditional rules follow the form $(c_1
\Rightarrow r_1 | c_2 \Rightarrow r_2 | ... | c_n \Rightarrow r_n )$.

The following table summarizes the primitive data types used by \progname. 

\begin{center}
\renewcommand{\arraystretch}{1.2}
\noindent 
\begin{tabular}{l l p{7.5cm}} 
\toprule 
\textbf{Data Type} & \textbf{Notation} & \textbf{Description}\\ 
\midrule
character & char & a single symbol or digit\\
integer & $\mathbb{Z}$ & a number without a fractional component in (-$\infty$, $\infty$) \\
natural number & $\mathbb{N}$ & a number without a fractional component in [1, $\infty$) \\
real & $\mathbb{R}$ & any number in (-$\infty$, $\infty$)\\
\bottomrule
\end{tabular} 
\end{center}

\noindent
The specification of \progname \ uses some derived data types: sequences, strings, and
tuples. Sequences are lists filled with elements of the same data type. Strings
are sequences of characters. Tuples contain a list of values, potentially of
different types. In addition, \progname \ uses functions, which
are defined by the data types of their inputs and outputs. Local functions are
described by giving their type signature followed by their specification.

\section{Module Decomposition}

The following table is taken directly from the Module Guide document for this project.

\begin{table}[h!]
\centering
\begin{tabular}{p{0.3\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Level 1} & \textbf{Level 2}\\
\midrule

{Hardware-Hiding} & N/A \\
\midrule

\multirow{7}{0.3\textwidth}{Behaviour-Hiding} & Clinician GUI\\
& Parent GUI\\
& Authentication Module\\
& Result Storage Module\\
& Real-Time Feedback Module\\ 
& Report Generation Module\\
& Media Processing Module\\
& Video Processing Module\\
& Audio Processing Module\\
& Logging Module\\
& Question Bank Module\\
& Mandarian Question Bank\\
& English Question Bank\\
& Repetition Question Bank Module\\
& Matching Question Bacnk Module\\
\midrule

\multirow{3}{0.3\textwidth}{Software Decision} & {APP Controller}\\
& API Gateway\\
\bottomrule

\end{tabular}
\caption{Module Hierarchy}
\label{TblMH}
\end{table}

\newpage
~\newpage
\section{MIS of Clinician GUI \label{mClinicianGUI} }

\subsection{Module}

clinicianGUI

\subsection{Uses}

\begin{itemize}
  \item AppController
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{8cm} p{2cm} p{2cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
displayLoginPage & - & - & - \\
displayClinicianDashboardPage & - & - & - \\
displayAddClientPage & - & - & - \\
displayPatientOverviewPage & - & - & - \\
displayPatientAssessmentResultsAnalysisPage & - & - & - \\
displayBiasReviewPage & - & - & - \\
displayFlagBiasPage & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
N/A

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
N/A

\subsubsection{Access Routine Semantics}

\noindent displayLoginPage():
\begin{itemize}
\item transition: Navigates to and displays the clinician login page for the system.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayClinicianDashboardPage():
\begin{itemize}
\item transition: Navigates to and displays the clinician dashboard page for accessing a clinician's list of clients.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayAddClientPage():
\begin{itemize}
\item transition: Navigates to and displays the add client page for adding a new client to a clinician's list.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayPatientOverviewPage():
\begin{itemize}
\item transition: Navigates to and displays the patient overview page for accessing all of the patient's previous assessments.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayPatientAssessmentResultsAnalysisPage():
\begin{itemize}
\item transition: Navigates to and displays the patient assessment results analysis page for accessing all of the results of a particular assessment.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayBiasReviewPage():
\begin{itemize}
\item transition: Navigates to and displays the bias review page for reviewing and removing bias from a particular question in an assessment.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayFlagBiasPage():
\begin{itemize}
\item transition: Navigates to and displays the flag bias page for reviewing and flagging bias on a particular question in an assessment.
\item output: N/A
\item exception: N/A
\end{itemize}

\subsubsection{Local Functions}
N/A

~\newpage
\section{MIS of Parent GUI \label{mParentGUI} }

\subsection{Module}

parentGUI

\subsection{Uses}

\begin{itemize}
  \item AppController
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{8cm} p{4cm} p{2cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
displayLoginPage & - & - & - \\
displayCreateAccountPage & - & - & - \\
displayHomePage & - & - & - \\
displayAssessmentSelectionPage & - & - & - \\
displayParentChecklistPage & - & - & - \\
displayInputCheckPage & microphoneInput, cameraInput & - & - \\
displayAssessmentInstructionsPage & - & - & - \\
displayAssessmentQuestionsPage & - & - & - \\
displayCompletionPage & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
N/A

\subsubsection{Environment Variables}
\begin{itemize}
  \item microphoneInput
  \item cameraInput
\end{itemize}

\subsubsection{Assumptions}
N/A

\subsubsection{Access Routine Semantics}

\noindent displayLoginPage():
\begin{itemize}
\item transition: Navigates to and displays the parent login page for the system.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayCreateAccountPage():
\begin{itemize}
\item transition: Navigates to and displays the parent account creation page for creating a new account for the system.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayHomePage():
\begin{itemize}
\item transition: Navigates to and displays the homepage for a parent account, with the ability to start a new assessment.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayAssessmentSelectionPage():
\begin{itemize}
\item transition: Navigates to and displays the assessment selection page for selecting the type of assessment for the user.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayParentChecklistPage():
\begin{itemize}
\item transition: Navigates to and displays the parent checklist page for informing parents about the requirements of the assessment.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayInputCheckPage():
\begin{itemize}
\item transition: Navigates to and displays the input check page for testing input devices.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayAssessmentInstructionsPage():
\begin{itemize}
\item transition: Navigates to and displays the assessment instructions page for the child to read and engage with to learn how to interact with the assessment interface.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayAssessmentQuestionsPage():
\begin{itemize}
\item transition: Navigates to and displays the assessment questions page for displaying a question and its corresponding answers for the user to select.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent displayCompletionPage():
\begin{itemize}
\item transition: Navigates to and displays the completion page to confirm to the user that the assessment is complete and their results have been saved.
\item output: N/A
\item exception: N/A
\end{itemize}

\subsubsection{Local Functions}
N/A

~\newpage
\section{MIS of App Controller \label{mAppController} }

\subsection{Module}

AppController

\subsection{Uses}

\begin{itemize}
  \item APIGateway
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{8cm} p{4cm} p{2cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
accessAPIGateway & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
N/A

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
N/A

\subsubsection{Access Routine Semantics}

\noindent accessAPIGateway():
\begin{itemize}
\item transition: Controller accesses the API Gateway.
\item output: N/A
\item exception: N/A
\end{itemize}

\subsubsection{Local Functions}
N/A

~\newpage
\section{MIS of API Gateway \label{mAppController} }

\subsection{Module}

APIGateway

\subsection{Uses}

\begin{itemize}
  \item Authentication
  \item ResultStorage
  \item MediaProcessing
  \item Logging
  \item QuestionBank
  \item RealTimeFeedback
  \item ReportGeneration
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{8cm} p{4cm} p{2cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
accessAuthentication & - & - & - \\
accessResultStorage & - & - & - \\
accessMediaProcessing & - & - & - \\
accessLogging & - & - & - \\
accessQuestionBank & - & - & - \\
accessRealTimeFeedback & - & - & - \\
accessReportGeneration & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
N/A

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
N/A

\subsubsection{Access Routine Semantics}

\noindent accessAuthentication():
\begin{itemize}
\item transition: Controller accesses the authentication module.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent accessResultStorage():
\begin{itemize}
\item transition: Controller accesses the results storage module.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent accessMediaProcessing():
\begin{itemize}
\item transition: Controller accesses the media processing module.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent accessLogging():
\begin{itemize}
\item transition: Controller accesses the logging module.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent accessQuestionBank():
\begin{itemize}
\item transition: Controller accesses the question bank module.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent accessRealTimeFeedback():
\begin{itemize}
\item transition: Controller accesses the real time feedback module.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent accessReportGeneration():
\begin{itemize}
\item transition: Controller accesses the report generation module.
\item output: N/A
\item exception: N/A
\end{itemize}

\subsubsection{Local Functions}
N/A
\section{MIS of Authentication Module} \label{AuthenticationModule}


\subsection{Module}

AuthenticationModule

\subsection{Uses}

N/A

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3cm} p{4cm} p{4cm} p{5cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
signup & \raggedright\arraybackslash username: str, email: str, password: str, role: str & \raggedright\arraybackslash status: bool & \raggedright\arraybackslash UserAlreadyExistsException \\
\hline
login & \raggedright\arraybackslash username: str, password: str & \raggedright\arraybackslash sessionToken: str & \raggedright\arraybackslash InvalidCredentialsException \\
\hline
logout & \raggedright\arraybackslash sessionToken: str & \raggedright\arraybackslash status: bool & \raggedright\arraybackslash InvalidSessionException \\
\hline
\end{tabular}
\end{center}


\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
\item userList: Set(User) - maintains a set of all registered users.
\item activeSessions: Map(sessionToken, User) - tracks active user sessions.
\end{itemize}

\subsubsection{Environment Variables}

N/A

\subsubsection{Assumptions}

\begin{itemize}
\item Usernames and emails are unique.
\item Sessions are managed using session tokens.
\item Role can be one of ['parent', 'clinician', 'admin'].
\item Clinicians have given user their login token
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent signup():
\begin{itemize}
\item transition: Adds a new user to `userList` if the username and email are unique.
\item output: Returns `true` if the user is successfully created, otherwise throws `UserAlreadyExistsException`.
\item exception: Throws `UserAlreadyExistsException` if the username or email already exists.
\end{itemize}

\noindent login():
\begin{itemize}
\item transition: Adds a new session to `activeSessions` if the credentials are valid.
\item output: Returns a `sessionToken` for the logged-in user.
\item exception: Throws `InvalidCredentialsException` if the username or password is incorrect.
\end{itemize}

\noindent logout():
\begin{itemize}
\item transition: Removes the `sessionToken` from `activeSessions`.
\item output: Returns `true` if the session is successfully ended.
\item exception: Throws `InvalidSessionException` if the session token does not exist.
\end{itemize}

\subsubsection{Local Functions}

N/A
\section{MIS of Result Storage Module} \label{ResultStorageModule}

\subsection{Module}

ResultStorageModule

\subsection{Uses}

N/A

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3cm} p{4cm} p{4cm} p{5cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
storeResult & \raggedright\arraybackslash data: JSON object & \raggedright\arraybackslash status: bool & \raggedright\arraybackslash StorageException \\
\hline
retrieveResult & \raggedright\arraybackslash resultID: str & \raggedright\arraybackslash data: JSON object & \raggedright\arraybackslash NotFoundException \\
\hline
deleteResult & \raggedright\arraybackslash resultID: str & \raggedright\arraybackslash status: bool & \raggedright\arraybackslash NotFoundException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
\item resultStorage: Map(resultID, JSON object) - stores all processed results with unique IDs.
\end{itemize}

\subsubsection{Environment Variables}

N/A

\subsubsection{Assumptions}

\begin{itemize}
\item Each result is assigned a unique resultID.
\item Results are stored as JSON objects for flexibility.
\item Data is stored in MongoDB or an equivalent NoSQL database.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent storeResult():
\begin{itemize}
\item transition: Adds the `data` to `resultStorage` with a unique `resultID`.
\item output: Returns `true` if the result is successfully stored.
\item exception: Throws `StorageException` if there is an issue storing the data.
\end{itemize}

\noindent retrieveResult():
\begin{itemize}
\item transition: None
\item output: Returns the result associated with the `resultID`.
\item exception: Throws `NotFoundException` if the `resultID` does not exist.
\end{itemize}

\noindent deleteResult():
\begin{itemize}
\item transition: Removes the result associated with the `resultID` from `resultStorage`.
\item output: Returns `true` if the result is successfully deleted.
\item exception: Throws `NotFoundException` if the `resultID` does not exist.
\end{itemize}

\subsubsection{Local Functions}

N/A
\section{MIS of Media Processing Module} \label{MediaProcessingModule}

\subsection{Module}
MediaProcessingModule

\subsection{Uses}
VideoProcessingModule, AudioProcessingModule

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}
\begin{center}
  \begin{tabular}{p{3cm} p{4cm} p{4cm} p{5cm}}
  \hline
  \textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
  \hline
  processMedia & \raggedright\arraybackslash mediaFile: str, mediaType: str, assessmentID: str & \raggedright\arraybackslash report: MediaAnalysisReport & \raggedright\arraybackslash MediaProcessingException \\
  \end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
\item processedMedia: Map(assessmentID, MediaAnalysisReport) - stores combined results from video and audio analysis.
\end{itemize}

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
\begin{itemize}
\item mediaType specifies whether the file is video or audio (e.g., "video", "audio").
\item Delegates processing to VideoProcessingModule or AudioProcessingModule based on mediaType.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent processMedia():
\begin{itemize}
\item transition:
\begin{itemize}
\item If mediaType is "video", calls processVideo from VideoProcessingModule.
\item If mediaType is "audio", calls processAudio from AudioProcessingModule.
\item Combines results into a single MediaAnalysisReport per assessment completed.
\end{itemize}
\item output: Returns a MediaAnalysisReport with details from video and audio analyses.
\item exception: Throws MediaProcessingException if the file cannot be processed or delegated.
\end{itemize}

\subsubsection{Local Functions}
N/A

\newpage
\section{MIS of Logging Module} \label{LoggingModule}

\subsection{Module}
LoggingModule

\subsection{Uses}
N/A

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3cm} p{4cm} p{4cm} p{5cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
logEvent & \raggedright\arraybackslash eventType: str, message: str & \raggedright\arraybackslash status: bool & \raggedright\arraybackslash LoggingException \\
\hline
fetchLogs & \raggedright\arraybackslash logType: str, timeRange: TimeRange & \raggedright\arraybackslash logData: List(LogEntry) & \raggedright\arraybackslash LogFetchException \\
\hline
clearLogs & \raggedright\arraybackslash logType: str, timeRange: TimeRange & \raggedright\arraybackslash status: bool & \raggedright\arraybackslash LogClearException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
\item logs: Map(logType, List(LogEntry)) - stores all logs categorized by type.
\end{itemize}

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
\begin{itemize}
\item Logs are categorized by their type and timestamp for easy retrieval.
\item Each log entry includes metadata such as the timestamp, severity, and module of origin.
\end{itemize}

\subsubsection{Types of Logs}

Event Logs

Tracks application activities, such as user logins, file uploads, and media processing events.
Example: "User 'parent1' logged in successfully at 14:32:00."
Error Logs

Captures unexpected behaviors, exceptions, or failures in the application.
Example: "VideoProcessingException: Unable to analyze video file 'session123.mp4' due to corrupted data."
Audit Logs

Records critical changes and actions for accountability, such as user role changes or log clearances.
Example: "Admin user 'clinician1' updated parent access rights at 16:45:00."
Performance Logs

Monitors application performance metrics like response times, memory usage, and processing durations.
Example: "Media processing for 'session456' completed in 3.2 seconds with 200MB memory usage."
Debug Logs

Includes detailed information for troubleshooting during development or maintenance.
Example: "Entering function 'processVideo' with input file 'session789.mp4'."
Security Logs

Tracks security-related events such as failed logins, access violations, or token expirations.
Example: "Security alert: Failed login attempt for user 'parent2' at 18:12:30."
\subsubsection{Access Routine Semantics}

\noindent logEvent():
\begin{itemize}
\item transition: Adds a new log entry to the logs map under the appropriate eventType.
\item output: Returns true if the log is successfully recorded.
\item exception: Throws LoggingException if the log entry cannot be added.
\end{itemize}

\noindent fetchLogs():
\begin{itemize}
\item transition: Retrieves all logs of the specified logType within the provided timeRange.
\item output: Returns a list of LogEntry objects matching the criteria.
\item exception: Throws LogFetchException if no logs are found or retrieval fails.
\end{itemize}

\noindent clearLogs():
\begin{itemize}
\item transition: Removes all logs of the specified logType within the provided timeRange.
\item output: Returns true if logs are successfully cleared.
\item exception: Throws LogClearException if logs cannot be cleared.
\end{itemize}

\subsubsection{Local Functions}
N/A
\section{MIS of Question Bank Module} \label{QuestionBankModule}

\subsection{Module}

QuestionBankModule

\subsection{Uses}

EnglishQuestionBankModule, MandarinQuestionBankModule

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{4cm} p{3cm} p{4cm} p{5cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
selectQuestionBank & \raggedright\arraybackslash language: str & \raggedright\arraybackslash questionBank: ADT & \raggedright\arraybackslash InvalidLanguageException \\
\hline
retrieveQuestion & \raggedright\arraybackslash language: str, questionID: str & \raggedright\arraybackslash question: JSON object & \raggedright\arraybackslash NotFoundException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
  \item activeQuestionBanks: Map(language, ADT) - maps language to its respective question bank module.
\end{itemize}

\subsubsection{Environment Variables}

N/A

\subsubsection{Assumptions}

\begin{itemize}
  \item Supported languages include English and Mandarin.
  \item Each question bank module is preloaded with language-specific questions.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent selectQuestionBank():
\begin{itemize}
\item transition: Selects the question bank module corresponding to the input language.
\item output: Returns the selected question bank module.
\item exception: Throws \texttt{InvalidLanguageException} if the input language is not supported.
\end{itemize}

\noindent retrieveQuestion():
\begin{itemize}
\item transition: None
\item output: Retrieves the question from the appropriate question bank module.
\item exception: Throws \texttt{NotFoundException} if the questionID does not exist in the selected module.
\end{itemize}

\subsubsection{Local Functions}

N/A
\section{MIS of Real-Time Feedback Module} \label{RealTimeFeedbackModule}

\subsection{Module}

RealTimeFeedbackModule

\subsection{Uses}

\begin{itemize}
\item Media Processing Module
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3cm} p{4cm} p{4cm} p{5cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
provideFeedback & \raggedright\arraybackslash sessionID: str, liveFeed: media stream & \raggedright\arraybackslash feedback: JSON object & \raggedright\arraybackslash FeedbackException \\

logFeedback & \raggedright\arraybackslash sessionID: str, feedback: JSON object & \raggedright\arraybackslash status: bool & \raggedright\arraybackslash LoggingException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
\item feedbackLogs: Map(sessionID, List(feedback)) - stores real-time feedback for sessions.
\end{itemize}

\subsubsection{Environment Variables}

N/A

\subsubsection{Assumptions}

\begin{itemize}
\item The module receives a continuous media stream (audio or video) during a session.
\item Feedback is generated by analyzing live media streams using the Media Processing Module.
\item Feedback is stored for each session to provide session summaries if needed.
\item The module operates within acceptable latency constraints to ensure real-time performance.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent provideFeedback():
\begin{itemize}
\item transition: Generates feedback from the `liveFeed` media stream and optionally logs it in `feedbackLogs`.
\item output: Returns actionable feedback in a structured JSON format (e.g., "Adjust microphone", "Increase lighting").
\item exception: Throws `FeedbackException` if there is an issue processing the live feed.
\end{itemize}

\noindent logFeedback():
\begin{itemize}
\item transition: Adds the provided `feedback` to `feedbackLogs` for the corresponding `sessionID`.
\item output: Returns `true` if the feedback is successfully logged.
\item exception: Throws `LoggingException` if there is an error while logging the feedback.
\end{itemize}

\subsubsection{Local Functions}

N/A
\section{MIS of Report Generation Module} \label{ReportGenerationModule}

\subsection{Module}

ReportGenerationModule

\subsection{Uses}

\begin{itemize}
\item Result Storage Module
\item Media Processing Module
\item Question Bank Module
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3cm} p{4cm} p{4cm} p{5cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
generateReport & \raggedright\arraybackslash sessionID: str, metadata: JSON object & \raggedright\arraybackslash report: JSON & \raggedright\arraybackslash ReportGenerationException \\
\hline
getReport & \raggedright\arraybackslash reportID: str & \raggedright\arraybackslash report: JSON & \raggedright\arraybackslash NotFoundException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
\item reportStorage: Map(reportID, Report) - stores all generated reports with unique IDs.
\end{itemize}

\subsubsection{Environment Variables}

N/A

\subsubsection{Assumptions}

\begin{itemize}
\item Each report is assigned a unique reportID.
\item Reports are generated using data fetched from the Result Storage Module and other sources like the Question Bank Module.
\item Reports can be retrieved in JSON format then converted to PDF format
\item The clinician requesting the report has access to the session data.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent generateReport():
\begin{itemize}
\item transition: Creates a new report using the `sessionID` and `metadata`, and stores it in `reportStorage`.
\item output: Returns the generated report in the specified format (JSON or PDF).
\item exception: Throws `ReportGenerationException` if there is an error during report generation.
\end{itemize}

\noindent getReport():
\begin{itemize}
\item transition: None
\item output: Returns the report associated with the `reportID`.
\item exception: Throws `NotFoundException` if the `reportID` does not exist in `reportStorage`.
\end{itemize}

\subsubsection{Local Functions}

N/A
\section{MIS of Video Processing Module} \label{VideoProcessingModule}

\subsection{Module}
VideoProcessingModule

\subsection{Uses}
N/A
MediaProcessingModule

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}
\begin{center}
  \begin{tabular}{p{3cm} p{4cm} p{4cm} p{5cm}}
  \hline
  \textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
  \hline
  processVideo & \raggedright\arraybackslash videoFile: str, assessmentID: str & \raggedright\arraybackslash report: VideoAnalysisReport & \raggedright\arraybackslash VideoProcessingException \\
  \end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
\item processedVideos: Map(assessmentID, VideoAnalysisReport) - stores results of processed videos.
\end{itemize}

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
\begin{itemize}
\item Video files are in a supported format (e.g., MP4, AVI).
\item Video processing is done within a time threshold for real-time feedback.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent processVideo():
\begin{itemize}
\item transition: Analyzes the video to identify any disturbances, bias, or cheating patterns.
\item output: Returns a detailed VideoAnalysisReport containing flagged events and metrics.
\item exception: Throws VideoProcessingException if the file cannot be processed or analyzed.
\end{itemize}

\subsubsection{Local Functions}
N/A
\section{MIS of Audio Processing Module} \label{AudioProcessingModule}

\subsection{Module}
AudioProcessingModule

\subsection{Uses}
N/A
MediaProcessingModule

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}

\begin{center}
  \begin{tabular}{p{3cm} p{4cm} p{4cm} p{5cm}}
  \hline
  \textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
  \hline
  processAudio & \raggedright\arraybackslash audioFile: str, assessmentID: str & \raggedright\arraybackslash report: AudioAnalysisReport & \raggedright\arraybackslash AudioProcessingException \\
  \end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
\item processedAudio: Map(assessmentID, AudioAnalysisReport) - stores results of processed audio.
\end{itemize}

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
\begin{itemize}
\item Audio files are in a supported format (e.g., WAV, MP3).
\item Background noise levels are detectable and quantifiable.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent processAudio():
\begin{itemize}
\item transition: Analyzes the audio for disturbances such as background noise or interruptions.
\item output: Returns a detailed AudioAnalysisReport with flagged issues.
\item exception: Throws AudioProcessingException if the file cannot be processed or analyzed.
\end{itemize}

\subsubsection{Local Functions}
N/A
\section{MIS of English Question Bank Module} \label{EnglishQuestionBankModule}

\subsection{Module}

EnglishQuestionBankModule

\subsection{Uses}

MatchingQuestionBankModule, RepetitionQuestionBankModule

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3cm} p{4cm} p{4cm} p{5cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
getQuestion & \raggedright\arraybackslash questionID: str & \raggedright\arraybackslash question: JSON object & \raggedright\arraybackslash NotFoundException \\
\hline
addQuestion & \raggedright\arraybackslash question: JSON object & \raggedright\arraybackslash status: bool & \raggedright\arraybackslash StorageException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
  \item englishQuestions: Map(questionID, JSON object) - stores English questions.
\end{itemize}

\subsubsection{Environment Variables}

N/A

\subsubsection{Assumptions}

\begin{itemize}
  \item Questions are either matching or repetition type.
  \item Matching and Repetition modules are used to handle the respective types.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent getQuestion():
\begin{itemize}
\item transition: None
\item output: Returns the question corresponding to the questionID.
\item exception: Throws \texttt{NotFoundException} if the questionID does not exist.
\end{itemize}

\noindent addQuestion():
\begin{itemize}
\item transition: Adds the input question to \texttt{englishQuestions}.
\item output: Returns \texttt{true} if the question is successfully added.
\item exception: Throws \texttt{StorageException} if there is an issue storing the question.
\end{itemize}

\subsubsection{Local Functions}

N/A
\section{MIS of Mandarin Question Bank Module} \label{MandarinQuestionBankModule}

\subsection{Module}

MandarinQuestionBankModule

\subsection{Uses}

MatchingQuestionBankModule, RepetitionQuestionBankModule

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3cm} p{4cm} p{4cm} p{5cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
getQuestion & \raggedright\arraybackslash questionID: str & \raggedright\arraybackslash question: JSON object & \raggedright\arraybackslash NotFoundException \\
\hline
addQuestion & \raggedright\arraybackslash question: JSON object & \raggedright\arraybackslash status: bool & \raggedright\arraybackslash StorageException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
  \item mandarinQuestions: Map(questionID, JSON object) - stores Mandarin questions.
\end{itemize}

\subsubsection{Environment Variables}

N/A

\subsubsection{Assumptions}

\begin{itemize}
  \item Questions are either matching or repetition type.
  \item Matching and Repetition modules are used to handle the respective types.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent getQuestion():
\begin{itemize}
\item transition: None
\item output: Returns the question corresponding to the questionID.
\item exception: Throws \texttt{NotFoundException} if the questionID does not exist.
\end{itemize}

\noindent addQuestion():
\begin{itemize}
\item transition: Adds the input question to \texttt{englishQuestions}.
\item output: Returns \texttt{true} if the question is successfully added.
\item exception: Throws \texttt{StorageException} if there is an issue storing the question.
\end{itemize}

\subsubsection{Local Functions}

N/A
\section{MIS of Matching Question Bank Module} \label{MatchingQuestionBankModule}

\subsection{Module}

MatchingQuestionBankModule

\subsection{Uses}

N/A

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{5cm} p{3cm} p{3cm} p{5cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
storeMatchingQuestion & \raggedright\arraybackslash question: JSON object & \raggedright\arraybackslash status: bool & \raggedright\arraybackslash StorageException \\
\hline
retrieveMatchingQuestion & \raggedright\arraybackslash questionID: str & \raggedright\arraybackslash question: JSON object & \raggedright\arraybackslash NotFoundException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
  \item matchingQuestions: Map(questionID, JSON object) - stores matching questions.
\end{itemize}

\subsubsection{Environment Variables}

N/A

\subsubsection{Assumptions}

\begin{itemize}
  \item Questions have a unique ID.
  \item Data is stored in a JSON format for flexibility.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent storeMatchingQuestion():
\begin{itemize}
  \item transition: Adds the question to \texttt{matchingQuestions}.
  \item output: Returns \texttt{true} if successfully stored.
  \item exception: Throws \texttt{StorageException} if there is a storage error.
\end{itemize}

\noindent retrieveMatchingQuestion():
\begin{itemize}
  \item transition: None
  \item output: Returns the matching question corresponding to the questionID.
  \item exception: Throws \texttt{NotFoundException}
\end{itemize}

\subsubsection{Local Functions}

N/A
\section{MIS of Repetition Question Bank Module} \label{RepetitionQuestionBankModule}

\subsection{Module}

RepetitionQuestionBankModule

\subsection{Uses}

N/A

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{5cm} p{3cm} p{3cm} p{5cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
storeRepetitionQuestion & \raggedright\arraybackslash question: JSON object & \raggedright\arraybackslash status: bool & \raggedright\arraybackslash StorageException \\
\hline
retrieveRepetitionQuestion & \raggedright\arraybackslash questionID: str & \raggedright\arraybackslash question: JSON object & \raggedright\arraybackslash NotFoundException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
  \item repetitionQuestions: Map(questionID, JSON object) - stores matching questions.
\end{itemize}

\subsubsection{Environment Variables}

N/A

\subsubsection{Assumptions}

\begin{itemize}
  \item Questions have a unique ID.
  \item Data is stored in a JSON format.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent storeRepetitionQuestion():
\begin{itemize}
  \item transition: Adds the question to \texttt{repetitionQuestions}.
  \item output: Returns \texttt{true} if successfully stored.
  \item exception: Throws \texttt{StorageException} if there is a storage error.
\end{itemize}

\noindent retrieveRepetitionQuestion():
\begin{itemize}
  \item transition: None
  \item output: Returns the matching question corresponding to the questionID.
  \item exception: Throws \texttt{NotFoundException}
\end{itemize}

\subsubsection{Local Functions}

N/A


\newpage

\bibliographystyle {plainnat}
\bibliography {../../../refs/References}

\newpage

\section{Appendix} \label{Appendix}

\wss{Extra information if required}

\newpage{}

\section*{Appendix --- Reflection}

\wss{Not required for CAS 741 projects}

The information in this section will be used to evaluate the team members on the
graduate attribute of Problem Analysis and Design.

\input{../../Reflection.tex}

\begin{enumerate}
  \item What went well while writing this deliverable? \\
  \\Promish: I think as a group we were very coordinated and had the important parts, like the module
  hierarchy diagram, completed before our TA meeting. This allowed us to ask Chris if our design looked good and if 
  there was any feedback he could provide.
  \item What pain points did you experience during this deliverable, and how
    did you resolve them? \\
    \\Promish: The hardest part of this deliverable is knowing that right after it, we have to build everything within three weeks.
    I found myself second-guessing between what would make a good design and what would make a feasible design. We overcame
    this by talking to our supervisor and setting up a good timeline.
  \item Which of your design decisions stemmed from speaking to your client(s)
  or a proxy (e.g., your peers, stakeholders, potential users)? For those that
  were not, why, and where did they come from? \\
  \\Promish: Most of the design came from prior knowledge of working in co-op as a backend and frontend developer.
  We also had our supervisor help with the frontend UI design, as there was a mock-up of what she wanted overall or what she didn't like.
  \item While creating the design doc, what parts of your other documents (e.g.,
  requirements, hazard analysis, etc.), if any, needed to be changed, and why? \\
  \\Promish: Nothing needed to change as we had already discussed in-depth what we were building and had regular meetups with our supervisor.
  We referenced the SRS to ensure that our design met our goals and extended goals, but we didn't have to change any previous document because of our design.
  \item What are the limitations of your solution? Put another way, given
  unlimited resources, what could you do to make the project better? (LO\_ProbSolutions) \\
  \\Promish: I would say a big limitation is the time aspect of making the capstone. I feel like given more time, we would be able to build it like an agile team,
  so that features are constantly tested with users. We are also limited in terms of getting video metadata, so the accuracy of our video analysis might suffer because of that.
  Finally, we are also limited by our skills; there are some aspects of the design that we couldn't do because we didn't know how to and didn't have the time to figure it out.
  \item Give a brief overview of other design solutions you considered. What
  are the benefits and trade-offs of those other designs compared with the chosen
  design? From all the potential options, why did you select the documented design?
  (LO\_Explores) \\
  \\Promish: For our backend, we thought about a monolithic architecture style because it would be easier to implement, but the trade-off is that it's not as maintainable.
  Our supervisor stressed that maintainability is a big priority for her, so we ended up going with a microservice architecture style. We also considered the various interactions between how
  the clinician and the parent UI. We previously thought about the parent making an account and the clinician would just search for the parent to add them to their client list. However,
  we thought it was best if the clinician added the parent to their client list and then gave them a code. This way, we would reduce troll accounts and other security gaps.
\end{enumerate}



\end{document}